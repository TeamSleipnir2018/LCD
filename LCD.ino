/******************************************************************
Team Sleipnir steering wheel LCD

Hardware:
	- Arduino Pro Mini
	- Adafruit RA8875 touch LCD controller
	- 480 x 272 touch LCD

Written by Einar Arnason
******************************************************************/

#include <SPI.h>
#include <stdint.h>
#include "Adafruit_GFX.h"
#include "Adafruit_RA8875.h"
#include <Fonts/FreeSansBold24pt7b.h>

// Library only supports hardware SPI at this time
// Connect SCLK to UNO Digital #13 (Hardware SPI clock)
// Connect MISO to UNO Digital #12 (Hardware SPI MISO)
// Connect MOSI to UNO Digital #11 (Hardware SPI MOSI)
#define RA8875_INT 3
#define RA8875_CS 10
#define RA8875_RESET 9

Adafruit_RA8875 tft = Adafruit_RA8875(RA8875_CS, RA8875_RESET);
uint16_t tx, ty;

// Vehicle values
uint16_t rpm;
uint16_t prevRPM;
char rpmDisp[5];
uint16_t oilTemp;
uint16_t prevOilTemp;
char oilTempDisp[5];
uint8_t gear;
uint8_t prevGear;
char gearDisp[2];

// Logo byte array
const static uint8_t logo[] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x80, 0x07, 0xc0, 0x00, 0x00,
	0x00, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x80, 0x00, 0x00, 0x00, 0x00, 0x3c,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3e, 0x1f, 0x1f, 0x87, 0xc7,
	0xff, 0xff, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07,
	0xff, 0xfe, 0x0f, 0xe0, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f,
	0xc0, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x7f, 0x3f, 0x1f, 0x8f, 0xcf, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xff, 0xfe, 0x0f, 0xe0, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x80, 0x00, 0x00, 0x00, 0x00, 0x74, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x3f, 0x1f, 0x8f, 0xcf, 0xff, 0xff, 0xfe, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xff, 0xfe, 0x0f, 0xe0,
	0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x80, 0x00, 0x00, 0x00,
	0x00, 0x64, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x3f, 0x3f,
	0x8f, 0xcf, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x7f, 0xff, 0xfe, 0x0f, 0xe0, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x3f, 0x80, 0x00, 0x00, 0x00, 0x00, 0xc4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x7e, 0x3f, 0x3f, 0x9f, 0x8f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xfe, 0x0f, 0xc0, 0x00, 0x00, 0x00, 0xfe,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x80, 0x00, 0x00, 0x00, 0x01, 0xc4, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x3f, 0x3f, 0x1f, 0x8f, 0xff, 0xff,
	0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xfc,
	0x0f, 0xc0, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x00, 0x00,
	0x00, 0x00, 0x33, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x07, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x01, 0xff, 0x80, 0x3c, 0x1f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xf0, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xfe, 0x00, 0x00, 0x1f, 0xc0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0x04,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x3f, 0x1f, 0x0f,
	0x87, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xfc,
	0x00, 0x00, 0x1f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x7e, 0x3f, 0x3f, 0x9f, 0xc7, 0xf0, 0x00, 0x1f, 0xf0, 0x00, 0x03, 0xff, 0xc0, 0x01,
	0xff, 0xc3, 0xff, 0x80, 0x01, 0xfc, 0x00, 0x00, 0x1f, 0xc0, 0x03, 0xe0, 0x00, 0x00, 0x00, 0x3f,
	0x80, 0x00, 0x0f, 0xf8, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x7f, 0xe4, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x7f, 0x3f, 0x1f, 0x87, 0xe0, 0x00, 0xff,
	0xfc, 0x00, 0x1f, 0xff, 0xfc, 0x07, 0xff, 0xff, 0xff, 0xc0, 0x01, 0xf8, 0x00, 0x00, 0x1f, 0x80,
	0x3f, 0xfc, 0x01, 0xfc, 0x0f, 0xff, 0xf0, 0x00, 0x7f, 0xff, 0x00, 0x7f, 0x03, 0xff, 0x80, 0x00,
	0x7c, 0x34, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfe, 0x7f,
	0x3f, 0x1f, 0x87, 0xe0, 0x01, 0xff, 0xff, 0x00, 0x3f, 0xff, 0xfc, 0x1f, 0xff, 0xff, 0xff, 0xe0,
	0x03, 0xf8, 0x00, 0x00, 0x3f, 0x80, 0xff, 0xfe, 0x01, 0xfc, 0x3f, 0xff, 0xfc, 0x01, 0xff, 0xff,
	0x80, 0x7f, 0x0f, 0xff, 0x80, 0x00, 0xfc, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xfe, 0x7e, 0x3f, 0x1f, 0x8f, 0xe0, 0x03, 0xff, 0xff, 0x00, 0x7f, 0xff,
	0xfc, 0x3f, 0xff, 0xff, 0xff, 0xf0, 0x03, 0xf8, 0x00, 0x00, 0x3f, 0x81, 0xff, 0xff, 0x01, 0xfc,
	0x3f, 0xff, 0xfe, 0x03, 0xff, 0xff, 0xc0, 0x7e, 0x1f, 0xff, 0x00, 0x01, 0xee, 0x1c, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x7e, 0x3f, 0x1f, 0x8f, 0xe0,
	0x07, 0xff, 0xff, 0x80, 0xff, 0xff, 0xfc, 0x3f, 0xff, 0xff, 0xff, 0xf8, 0x03, 0xfc, 0x00, 0x00,
	0x3f, 0x83, 0xff, 0xff, 0x81, 0xfc, 0x3f, 0xff, 0xfe, 0x03, 0xff, 0xff, 0xe0, 0x7e, 0x1f, 0xff,
	0x00, 0x03, 0xcf, 0x36, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x0f, 0xe0, 0x0f, 0xff, 0xff, 0x81, 0xff, 0x03, 0xfc, 0x7f, 0xc7, 0xff,
	0x8f, 0xf8, 0x01, 0xfc, 0x00, 0x00, 0x3f, 0x87, 0xff, 0xff, 0xc1, 0xf8, 0x3f, 0xff, 0xff, 0x07,
	0xff, 0xff, 0xe0, 0xfe, 0x1f, 0xff, 0x00, 0x03, 0x9f, 0xf6, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xc0, 0x0f, 0xf0, 0x3f, 0xc3,
	0xfc, 0x01, 0xf8, 0x7f, 0x01, 0xfe, 0x03, 0xf8, 0x01, 0xfe, 0x00, 0x00, 0x3f, 0x0f, 0xf8, 0x3f,
	0xc1, 0xf8, 0x3f, 0x00, 0xff, 0x07, 0xf0, 0x0f, 0xe0, 0xfe, 0x1f, 0xc0, 0x00, 0x07, 0xbf, 0xff,
	0x00, 0x00, 0x00, 0x0f, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0x7c, 0x7e, 0x3e,
	0x0f, 0xc0, 0x1f, 0xe0, 0x1f, 0xc3, 0xf8, 0x03, 0xf8, 0xfe, 0x01, 0xfc, 0x03, 0xf8, 0x01, 0xff,
	0x00, 0x00, 0x7f, 0x0f, 0xf0, 0x1f, 0xc3, 0xf8, 0x7f, 0x00, 0x7f, 0x07, 0xe0, 0x07, 0xe0, 0xfe,
	0x1f, 0x80, 0x00, 0x0f, 0x3f, 0x7f, 0xc0, 0x00, 0x00, 0x1f, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x01, 0xfc, 0xfc, 0x7e, 0x3f, 0x0f, 0xc0, 0x1f, 0xc0, 0x1f, 0xc7, 0xf0, 0x03, 0xf8, 0xfe,
	0x01, 0xfc, 0x03, 0xf8, 0x01, 0xff, 0xc0, 0x00, 0x7f, 0x1f, 0xe0, 0x0f, 0xc3, 0xf8, 0x7f, 0x00,
	0x3f, 0x0f, 0xe0, 0x07, 0xf0, 0xfe, 0x3f, 0x80, 0x00, 0x0e, 0x7f, 0x77, 0xf8, 0x00, 0x00, 0x3f,
	0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xf8, 0xfc, 0x7e, 0x7f, 0x0f, 0xc0, 0x3f, 0x80,
	0x0f, 0xc7, 0xf0, 0x03, 0xf8, 0xfe, 0x01, 0xfc, 0x03, 0xf8, 0x00, 0xff, 0xe0, 0x00, 0x7f, 0x1f,
	0xc0, 0x0f, 0xe3, 0xf8, 0x7f, 0x00, 0x3f, 0x0f, 0xe0, 0x07, 0xf0, 0xfc, 0x3f, 0x80, 0x00, 0x1f,
	0xff, 0xf7, 0xff, 0x80, 0x00, 0x7f, 0xff, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x01, 0xf8, 0xfc,
	0xfe, 0x7e, 0x1f, 0xc0, 0x3f, 0x80, 0x0f, 0xc7, 0xf0, 0x03, 0xf8, 0xfe, 0x01, 0xfc, 0x03, 0xf8,
	0x00, 0xff, 0xf0, 0x00, 0x7f, 0x1f, 0x80, 0x0f, 0xe3, 0xf8, 0x7f, 0x00, 0x3f, 0x0f, 0xe0, 0x07,
	0xe1, 0xfc, 0x3f, 0x80, 0x00, 0x3f, 0xff, 0xd7, 0xff, 0xf0, 0x00, 0xff, 0xff, 0xff, 0xf0, 0x00,
	0x00, 0x00, 0x00, 0x01, 0xf9, 0xfc, 0xfc, 0x7e, 0x1f, 0xc0, 0x3f, 0x80, 0x1f, 0xcf, 0xe0, 0x03,
	0xf0, 0xfc, 0x01, 0xf8, 0x03, 0xf0, 0x00, 0x7f, 0xf8, 0x00, 0x7f, 0x3f, 0x80, 0x0f, 0xe3, 0xf0,
	0x7e, 0x00, 0x3f, 0x0f, 0xc0, 0x07, 0xe1, 0xfc, 0x3f, 0x80, 0x00, 0x79, 0xff, 0x17, 0xff, 0xfe,
	0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x01, 0xf8, 0xf8, 0xfc, 0x7e, 0x1f, 0x80,
	0x3f, 0xff, 0xff, 0xcf, 0xe0, 0x07, 0xf1, 0xfc, 0x01, 0xf8, 0x07, 0xf0, 0x00, 0x3f, 0xfe, 0x00,
	0x7e, 0x3f, 0x80, 0x0f, 0xe3, 0xf0, 0x7e, 0x00, 0x3f, 0x1f, 0xc0, 0x0f, 0xe1, 0xfc, 0x3f, 0x00,
	0x1f, 0xf1, 0x9f, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x1f, 0x80, 0x7f, 0xff, 0xff, 0xcf, 0xe0, 0x07, 0xf1, 0xfc, 0x03, 0xf8,
	0x07, 0xf0, 0x00, 0x1f, 0xff, 0x00, 0xfe, 0x3f, 0xff, 0xff, 0xc7, 0xf0, 0xfe, 0x00, 0x3f, 0x1f,
	0xc0, 0x0f, 0xe1, 0xfc, 0x7f, 0x00, 0x7f, 0xf3, 0xff, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x80, 0x7f, 0xff, 0xff, 0xcf,
	0xe0, 0x07, 0xf1, 0xfc, 0x03, 0xf8, 0x07, 0xf0, 0x00, 0x0f, 0xff, 0x80, 0xfe, 0x3f, 0xff, 0xff,
	0xc7, 0xf0, 0xfe, 0x00, 0x7f, 0x1f, 0xc0, 0x0f, 0xe1, 0xfc, 0x7f, 0x01, 0xff, 0xff, 0x9f, 0x07,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x00, 0x03, 0xf1, 0xf8, 0xf8, 0x7c,
	0x3f, 0x80, 0x7f, 0xff, 0xff, 0xcf, 0xc0, 0x07, 0xf1, 0xfc, 0x03, 0xf8, 0x07, 0xf0, 0x00, 0x07,
	0xff, 0x80, 0xfe, 0x3f, 0xff, 0xff, 0xc7, 0xf0, 0xfe, 0x00, 0x7f, 0x1f, 0xc0, 0x0f, 0xe1, 0xf8,
	0x7f, 0x03, 0xff, 0xff, 0x9f, 0x07, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00,
	0x00, 0x03, 0xf1, 0xf9, 0xf8, 0xfc, 0x3f, 0x80, 0x7f, 0xff, 0xff, 0x8f, 0xc0, 0x07, 0xe1, 0xf8,
	0x03, 0xf8, 0x07, 0xe0, 0x00, 0x01, 0xff, 0xc0, 0xfe, 0x3f, 0xff, 0xff, 0xc7, 0xf0, 0xfe, 0x00,
	0x7f, 0x1f, 0xc0, 0x0f, 0xc3, 0xf8, 0x7f, 0x03, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x07, 0xf3, 0xf9, 0xf8, 0xfc, 0x3f, 0x80, 0x7f, 0x00,
	0x00, 0x1f, 0xc0, 0x0f, 0xe1, 0xf8, 0x03, 0xf0, 0x0f, 0xe0, 0x00, 0x00, 0xff, 0xc0, 0xfc, 0x7f,
	0xff, 0xff, 0x87, 0xf0, 0xfe, 0x00, 0x7f, 0x1f, 0x80, 0x1f, 0xc3, 0xf8, 0x7f, 0x07, 0xef, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x07, 0xf3, 0xf1,
	0xf8, 0xfc, 0x3f, 0x00, 0x7e, 0x00, 0x00, 0x1f, 0xc0, 0x0f, 0xe3, 0xf8, 0x07, 0xf0, 0x0f, 0xe0,
	0x00, 0x00, 0x7f, 0xe0, 0xfc, 0x7f, 0x00, 0x00, 0x07, 0xe0, 0xfc, 0x00, 0x7e, 0x3f, 0x80, 0x1f,
	0xc3, 0xf8, 0x7e, 0x07, 0xff, 0xff, 0xff, 0xe7, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0x00, 0x00, 0x07, 0xe3, 0xf1, 0xf8, 0xfc, 0x3f, 0x00, 0x7e, 0x00, 0x00, 0x1f, 0xc0, 0x0f,
	0xe3, 0xf8, 0x07, 0xf0, 0x0f, 0xe0, 0x00, 0x00, 0x3f, 0xe1, 0xfc, 0x7f, 0x00, 0x00, 0x0f, 0xe1,
	0xfc, 0x00, 0xfe, 0x3f, 0x80, 0x1f, 0xc3, 0xf8, 0xfe, 0x0f, 0xff, 0xff, 0xff, 0x87, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x00, 0x07, 0xe3, 0xf3, 0xf0, 0xf8, 0x7f, 0x00,
	0x7f, 0x00, 0x00, 0x1f, 0xc0, 0x0f, 0xe3, 0xf8, 0x07, 0xf0, 0x0f, 0xe0, 0x00, 0x00, 0x1f, 0xe1,
	0xfc, 0x7f, 0x00, 0x00, 0x0f, 0xe1, 0xfc, 0x00, 0xfe, 0x3f, 0x80, 0x1f, 0xc3, 0xf0, 0xfe, 0x0f,
	0xff, 0xff, 0xff, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x7f, 0x00, 0x00, 0x1f, 0xc0, 0x0f, 0xe3, 0xf8, 0x07, 0xf0,
	0x0f, 0xe0, 0x00, 0x00, 0x0f, 0xe1, 0xfc, 0x7f, 0x00, 0x00, 0x0f, 0xe1, 0xfc, 0x01, 0xfe, 0x3f,
	0x80, 0x1f, 0xc7, 0xf0, 0xfe, 0x0f, 0xff, 0xff, 0xff, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x7f, 0x80, 0x00, 0x1f,
	0xc0, 0x1f, 0xc3, 0xf0, 0x07, 0xf0, 0x0f, 0xc0, 0x00, 0x00, 0x0f, 0xe1, 0xfc, 0x3f, 0x80, 0x00,
	0x0f, 0xe1, 0xfc, 0x01, 0xfc, 0x3f, 0x00, 0x1f, 0x87, 0xf0, 0xfe, 0x0f, 0xff, 0xff, 0xff, 0x07,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x00, 0x07, 0xc3, 0xe3, 0xe0, 0xf0,
	0x7f, 0x00, 0x7f, 0xc0, 0x1e, 0x0f, 0xe0, 0xff, 0xc3, 0xf0, 0x0f, 0xe0, 0x1f, 0xc0, 0x00, 0x00,
	0x07, 0xe1, 0xf8, 0x3f, 0xc0, 0x00, 0x0f, 0xc1, 0xf8, 0x03, 0xfc, 0x7f, 0x00, 0x3f, 0x87, 0xf0,
	0xfc, 0x0f, 0xff, 0xff, 0xff, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0,
	0x00, 0x0f, 0xe7, 0xe3, 0xf1, 0xf8, 0x7f, 0x00, 0x3f, 0xff, 0xfe, 0x0f, 0xff, 0xff, 0xc7, 0xf0,
	0x0f, 0xe0, 0x1f, 0xc0, 0x00, 0x00, 0x07, 0xe1, 0xf8, 0x3f, 0xff, 0xff, 0x1f, 0xc3, 0xff, 0x1f,
	0xf8, 0x7f, 0x00, 0x3f, 0x87, 0xf1, 0xfc, 0x07, 0xff, 0xff, 0xff, 0x87, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x0f, 0xc7, 0xe3, 0xf1, 0xf8, 0x7e, 0x00, 0x1f, 0xff,
	0xfe, 0x0f, 0xff, 0xff, 0xc7, 0xf0, 0x0f, 0xe0, 0x1f, 0xc0, 0x00, 0x00, 0x0f, 0xe3, 0xf8, 0x1f,
	0xff, 0xfe, 0x1f, 0xc3, 0xff, 0xff, 0xf0, 0x7f, 0x00, 0x3f, 0x87, 0xf1, 0xfc, 0x07, 0xff, 0xff,
	0xfe, 0x67, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x00, 0x0f, 0xc7, 0xe7,
	0xf3, 0xf8, 0xfe, 0x00, 0x1f, 0xff, 0xfc, 0x07, 0xff, 0xff, 0xc7, 0xf0, 0x0f, 0xe0, 0x1f, 0xc0,
	0x00, 0x00, 0x0f, 0xe3, 0xf8, 0x1f, 0xff, 0xfe, 0x1f, 0xc3, 0xff, 0xff, 0xe0, 0x7f, 0x00, 0x3f,
	0x87, 0xe1, 0xfc, 0x03, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0x80, 0x00, 0x0f, 0xcf, 0xe7, 0xe3, 0xf0, 0xfe, 0x00, 0x0f, 0xff, 0xfc, 0x03, 0xff, 0xdf,
	0xc7, 0xf0, 0x0f, 0xe0, 0x1f, 0x80, 0x00, 0x00, 0x0f, 0xe3, 0xf8, 0x0f, 0xff, 0xfe, 0x1f, 0xc3,
	0xff, 0xff, 0xc0, 0x7f, 0x00, 0x3f, 0x0f, 0xe1, 0xfc, 0x03, 0xff, 0xfe, 0x00, 0x07, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x0f, 0xcf, 0xe7, 0xe3, 0xf0, 0xfe, 0x00,
	0x03, 0xff, 0xfc, 0x01, 0xff, 0x1f, 0x87, 0xe0, 0x0f, 0xc0, 0x1f, 0x80, 0x00, 0x00, 0x1f, 0xe3,
	0xf8, 0x03, 0xff, 0xfe, 0x1f, 0xc3, 0xff, 0xff, 0x80, 0x7e, 0x00, 0x7f, 0x0f, 0xe1, 0xfc, 0x01,
	0xff, 0xfc, 0x00, 0x03, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3f, 0xc3, 0xf0, 0x00, 0xff, 0xf0, 0x1f, 0x83, 0xff, 0xfc, 0x00, 0x7e,
	0x00, 0x3f, 0x07, 0xc1, 0xf8, 0x00, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xfe,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x07, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xe0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3f, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x8f, 0x87, 0xc3, 0xe0,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03,
	0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x3f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xfc, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x1f, 0x9f, 0xcf, 0xe7, 0xe1, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x8f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe7, 0xf3, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x00, 0x1f, 0x9f, 0xcf, 0xc7, 0xe1, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xe7, 0xf3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x3f, 0x9f, 0x8f,
	0xc7, 0xe1, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xfc, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc7, 0xe3, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xe0, 0x00, 0x3f, 0x9f, 0x8f, 0xc7, 0xe1, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf,
	0xe3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x3f, 0x1f, 0x8f, 0xc7, 0xc1, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x7f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0xe3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xe0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x0f, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

void setup() {
	Serial.begin(9600);
	Serial.println("RA8875 start");

	/* Initialise the display using 'RA8875_480x272' or 'RA8875_800x480' */
	if (!tft.begin(RA8875_480x272)) {
		Serial.println("RA8875 Not Found!");
		while (1);
	}

	Serial.println("Found RA8875");

	tft.displayOn(true);
	tft.GPIOX(true);      // Enable TFT - display enable tied to GPIOX
	tft.PWM1config(true, RA8875_PWM_CLK_DIV1024); // PWM output for backlight
	tft.PWM1out(0); // Start faded out
	
	// display logo
	tft.graphicsMode();
	tft.drawBitmap(24, 104, logo, 432, 64, RA8875_RED);
	
	// Fade in
	for (uint8_t i = 0; i != 255; i += 5) {
		tft.PWM1out(i);
		delay(10);
	}

	pinMode(RA8875_INT, INPUT);
	digitalWrite(RA8875_INT, HIGH);
	tft.touchEnable(true);
	rpm = 0;
	oilTemp = 100;
	gear = 0;

	//Serial.print("Status: "); Serial.println(tft.readStatus(), HEX);
	//Serial.println("Waiting for touch events ...");

	delay(3000);
	tft.fillScreen(RA8875_BLACK);
	tft.textMode();
	tft.textColor(RA8875_WHITE, RA8875_BLACK);
	printLabels();
	printValues();
}

void demo() {
	if (rpm != 6000) {
		rpm += 1;
	}
	else {
		rpm = 2000;
		if (gear < 6) {
			gear++;
			oilTemp++;
		}
	}	
}

void printLabels() {
	tft.textSetCursor(10, 10);
	tft.textEnlarge(1);
	tft.textWrite("Temp: ");
	tft.textSetCursor(270, 200);
	tft.textEnlarge(2);
	tft.textWrite(" RPM");
}

void printValues() {
	if (prevOilTemp != oilTemp) {
		sprintf(oilTempDisp, "%d", oilTemp);
		prevOilTemp = oilTemp;
		tft.textSetCursor(100, 10);
		tft.textEnlarge(2);
		tft.textWrite(oilTempDisp);
	}
	if (prevGear != gear) {
		sprintf(gearDisp, "%d", gear);
		prevGear = gear;
		
		tft.graphicsMode();
		tft.setFont(&FreeSansBold24pt7b);
		tft.setTextColor(RA8875_WHITE);
		tft.setCursor(200, 100);
		tft.print(gearDisp);
		tft.textMode();
		/*
		tft.textSetCursor(200, 100);
		tft.textEnlarge(3);
		tft.textWrite(gearDisp);
		*/
	}/*
	else if (gear == 0) {
		tft.textSetCursor(200, 100);
		tft.textEnlarge(3);
		tft.textWrite("N");
	}*/
	if (prevRPM != rpm) {
		sprintf(rpmDisp, "%d", rpm);
		prevRPM = rpm;
		tft.textSetCursor(170, 200);
		tft.textEnlarge(2);
		tft.textWrite(rpmDisp);
	}
}

void loop() {
	//float xScale = 1024.0F / tft.width();
	//float yScale = 1024.0F / tft.height();

	demo();
	printValues();

	/* Wait around for touch events */
	if (!digitalRead(RA8875_INT)) {
		if (tft.touched()) {
			// Idea: Discard a warning message after abnormal values are read
		}
	}
}
